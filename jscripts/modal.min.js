class Modal{obj=null;cont=null;constructor(s){this.obj="string"==typeof s?query(s):s,this.cont=create("div","modal"),this.cont.append(this.obj),document.body.append(this.cont)}show(){setTimeout((()=>{this.cont.classList.add("show")}),1)}hide(){this.cont.classList.remove("show")}}class ModalOpt extends Modal{opened=!1;constructor(s){super(s),bind(this.cont,"mousedown",(s=>{s.target.classList.contains("modal")&&this.hide()})),bind(document,"keydown",(s=>{this.opened&&"Escape"===s.key&&!(s.ctrlKey||s.altKey||s.shiftKey)&&this.hide()}))}hide(){this.opened=!1,super.hide()}show(){this.opened=!0,super.show()}}class ModalForm extends ModalOpt{}class ModalAnim extends Modal{ttl=null;constructor(s,o=5e3){super(s),this.ttl=o}show(s=null){super.show(),setTimeout((()=>{this.hide(),s&&s()}),this.ttl)}}class ModalAlert extends ModalOpt{modal=null;constructor(s="info"){super(create("div","modal-alert modal-"+s)),bind(this.obj,"mousedown",(s=>{this.hide()}))}show(s){this.obj.innerHTML=s,super.show()}}class ModalPass extends ModalOpt{pass=null;clb=null;constructor(){const s=create("div","modal-box modal-pass");s.create("div").innerHTML="Veuillez entrer votre mot de passe:";const o=s.create("form"),t=o.create("div").create("input"),a=o.create("div").create("input");t.type="password",t.name="password",t.required=!0,a.type="submit",a.value="Confirmer",super(s),this.pass=t,bind(o,"submit",(s=>{s.preventDefault(),this.submit()}))}show(s=null){this.clb=s,this.pass.value="",super.show(),setTimeout((()=>{this.pass.focus()}),200)}submit(){this.hide(),this.clb&&this.clb(this.pass.value)}}class ModalPlane extends ModalAnim{constructor(){super(create("div","modal-anim modal-plane"),1600)}}class ModalLoading extends Modal{constructor(){super(create("div","modal-object modal-loading"))}}const ModalBox={_loading:null,_modalplane:null,_modalinfo:null,_modalerror:null,_modalwarning:null,_modalthumbsup:null,_modalbravo:null,_modalpass:null,get loading(){return this._loading||(this._loading=new ModalLoading),this._loading},get modalplane(){return this._modalplane||(this._modalplane=new ModalPlane),this._modalplane},get modalinfo(){return this._modalinfo||(this._modalinfo=new ModalAlert("info")),this._modalinfo},get modalerror(){return this._modalerror||(this._modalerror=new ModalAlert("error")),this._modalerror},get modalwarning(){return this._modalwarning||(this._modalwarning=new ModalAlert("warning")),this._modalwarning},get modalthumbsup(){return this._modalthumbsup||(this._modalthumbsup=new ModalAlert("thumbsup")),this._modalthumbsup},get modalbravo(){return this._modalbravo||(this._modalbravo=new ModalAlert("bravo")),this._modalbravo},get modalpass(){return this._modalpass||(this._modalpass=new ModalPass),this._modalpass},plane(s=null){this.modalplane.show(s)},info(s){this.modalinfo.show(s)},error(s){this.modalerror.show(s)},warning(s){this.modalwarning.show(s)},bravo(s){this.modalbravo.show(s)},thumbsup(s){this.modalthumbsup.show(s)},pass(s=null){this.modalpass.show(s)}};