const ModalSystem={system:null,init(){return this.system=query("div.system_anim"),this},show(){this.system.classList.add("show")},hide(s=null){this.system.classList.add("hide"),setTimeout((()=>{this.system.classList.remove("show"),this.system.classList.remove("hide"),s&&setTimeout((()=>{s()}),200)}),500)},panic(){this.system.classList.remove("show"),this.system.classList.remove("hide")}}.init(),app={init(){return bind("#item_database_backup","click",(s=>{this.backupDatabase()})),this},backupDatabase(){ModalSystem.show(),post({action:"backupdatabase"}).then((s=>{s.success?ModalSystem.hide((()=>{location.href=s.url})):(ModalSystem.panic(),ModalBox.error(s.errmsg))}))}}.init();